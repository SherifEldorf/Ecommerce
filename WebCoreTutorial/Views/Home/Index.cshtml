@model IEnumerable<WebCoreTutorial.Models.Post>
@{
    ViewData["Title"] = "Home Page";
}

<div class="page-main">
    <!-- Start Carousel-->
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class=""></li>
            <li data-target="#myCarousel" data-slide-to="1" class=""></li>
            <li data-target="#myCarousel" data-slide-to="2" class="active"></li>
        </ol>
        <div class="carousel-inner">
            @{
                int i = 0;
                foreach (var item in Model)
                {
                    string subcat = item.SubCategory.SubCatName;
                    if (subcat == "الإعلانات")
                    {
                        bool isPost = item.IsPublish;
                        if (isPost)
                        {
                            i += 1;
                            if (i == 3)
                            {
                                <div class="carousel-item active">
                                    <img src="@Url.Content("~/images/Post/" + item.PostImg)" />
                                    <div class="container">
                                        <div class="carousel-caption text-right">
                                            <h2>@Html.DisplayFor(modelitem => item.Title)</h2>
                                            @{
                                                if (item.PostContent.Length > 150)
                                                {
                                                    <p>@item.PostContent.Substring(0, 150)</p>
                                                }
                                                else
                                                {
                                                    <p>@item.PostContent</p>
                                                }
                                            }

                                            <a asp-action="PostView" asp-route-id="@item.id" class="btn btn-secondary" role="button">قرائة المزيد</a>
                                        </div>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="carousel-item">
                                    <img src="@Url.Content("~/images/Post/" + item.PostImg)" />
                                    <div class="container">
                                        <div class="carousel-caption text-right">
                                            <h2>@Html.DisplayFor(modelitem => item.Title)</h2>
                                            @{
                                                if (item.PostContent.Length > 150)
                                                {
                                                    <p>@item.PostContent.Substring(0, 150)</p>
                                                }
                                                else
                                                {
                                                    <p>@item.PostContent</p>
                                                }
                                            }
                                            <a asp-action="PostView" asp-route-id="@item.id" class="btn btn-secondary" role="button">قرائة المزيد</a>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    }
                }
            }
            @if (i == 0)
            {
                <div class="carousel-item">
                    <img class="img-fluid" src="~/images/Post/sales.jpg" />
                    <div class="container">
                        <div class="carousel-caption text-left">
                            <h1>Example headline.</h1>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                            <p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item active">
                    <img class="img-fluid" src="~/images/Post/sales3.jpg" />
                    <div class="container">
                        <div class="carousel-caption">
                            <h1>Another example headline.</h1>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                            <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="img-fluid" src="~/images/Post/sales1.png" />
                    <div class="container">
                        <div class="carousel-caption text-right">
                            <h1>One more for good measure.</h1>
                            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                            <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p>
                        </div>
                    </div>
                </div>
            }

        </div>
        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <!-- End Carousel-->

    <div class="container">
        <!-- Headline News-->
        <div class="headline text-center">
            @{
                int v = 0;
                foreach (var item in Model)
                {
                    string subcat = item.SubCategory.SubCatName;
                    if (subcat == "أخبار الموقع")
                    {
                        bool isPost = item.IsPublish;
                        if (isPost)
                        {
                            v += 1;
                            if (v <= 1)
                            {
                                <h3 class="jumbotron-heading">@item.Title</h3>
                                string str = item.PostContent;
                                if (str.Length > 500)
                                {
                                    <p class="lead text-muted">@str.Substring(0, 500)</p>
                                }
                                else
                                {
                                    <p class="lead text-muted">@item.PostContent)</p>
                                }
                                @*<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">Large modal</button>*@

                            }
                        }
                    }
                }

                if (v == 0)
                {
                    <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
                        <h1 class="display-4">Pricing</h1>
                        <p class="lead">Quickly build an effective pricing table for your potential customers with this Bootstrap example. It’s built with default Bootstrap components and utilities with little customization.</p>
                    </div>
                }
            }
        </div>
        <!-- Headline News-->
        <!-- Middle line Post-->
        <div class="row headCenter">
            @{
                int e = 0;
                foreach (var item in Model)
                {
                    string subcat = item.SubCategory.SubCatName;
                    if (subcat == "العروض")
                    {
                        bool isPost = item.IsPublish;
                        if (isPost)
                        {
                            e += 1;
                            <div class="col-md-4">
                                <div class="card mb-4 shadow-sm">
                                    <img class="imgMiddle" src="@Url.Content("~/images/Post/" + item.PostImg)" />
                                    <div class="card-body"><h4 class="jumbotron-heading">@item.Title</h4></div>
                                    <div class="card-body">
                                        @{
                                            string str = item.PostContent;
                                            if (str.Length > 300)
                                            {
                                                <p class="lead text-muted">@str.Substring(0, 300)</p>
                                            }
                                            else
                                            {
                                                <p class="lead text-muted">@item.PostContent)</p>
                                            }
                                        }
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div class="btn-group">
                                                <a asp-action="PostView" asp-route-id="@item.id" class="btn btn-secondary" role="button">قرائة المزيد</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                }
                if (e == 0)
                {
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
                            <div class="card-body">
                                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                                    </div>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
                            <div class="card-body">
                                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                                    </div>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
                            <div class="card-body">
                                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                                    </div>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
        <!-- Middle line Post-->
        <!-- Bottom line Post-->
        <div class="row mb-2 headBottom">
            @{
                int x = 0;
                foreach (var item in Model)
                {
                    string subcat = item.SubCategory.SubCatName;
                    if (subcat == "المنتجات")
                    {
                        bool isPost = item.IsPublish;
                        if (isPost)
                        {
                            x += 1;
                            if (x <= 8)
                            {
                                <div class="col-md-6">
                                    <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative bg-light">
                                        <div class="col p-4 d-flex flex-column position-static">
                                            <h4 class="mb-0">@item.Title</h4>
                                            @{
                                                string str = item.PostContent;
                                                if (str.Length > 125)
                                                {
                                                    <p class="lead text-muted">@str.Substring(0, 125)</p>
                                                }
                                                else
                                                {
                                                    <p class="lead text-muted">@item.PostContent)</p>
                                                }
                                            }
                                            <div class="btn-group">
                                                <a asp-action="PostView" asp-route-id="@item.id" class="btn btn-secondary" role="button">قرائة المزيد</a>
                                            </div>
                                        </div>
                                        <div class="col-auto d-none d-lg-block">
                                            <img class="imgMiddle" style="width: 200px; height:250px" src="@Url.Content("~/images/Post/" + item.PostImg)" />
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    }
                }
                if (x == 0)
                {
                    <div class="col-md-6">
                        <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                            <div class="col p-4 d-flex flex-column position-static">
                                <strong class="d-inline-block mb-2 text-primary">World</strong>
                                <h3 class="mb-0">Featured post</h3>
                                <div class="mb-1 text-muted">Nov 12</div>
                                <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
                                <a href="#" class="stretched-link">Continue reading</a>
                            </div>
                            <div class="col-auto d-none d-lg-block">
                                <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                            <div class="col p-4 d-flex flex-column position-static">
                                <strong class="d-inline-block mb-2 text-primary">World</strong>
                                <h3 class="mb-0">Featured post</h3>
                                <div class="mb-1 text-muted">Nov 12</div>
                                <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
                                <a href="#" class="stretched-link">Continue reading</a>
                            </div>
                            <div class="col-auto d-none d-lg-block">
                                <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
        <!-- Bottom line Post-->
    </div>

    <!-- Modal -->
    @*<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    @{
                        foreach (var item in Model)
                        {
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalCenterTitle">@item.Title</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="row mb-4">
                                    <div class="col-md-3 col-sm-12">
                                        <div class="card">
                                            <div class="card-header">
                                                مميزات المنتج
                                            </div>
                                            <div class="card-body">
                                                <div class="card-title">@item.ProductName</div>
                                                <div class="card-text">
                                                    $@item.Price
                                                </div>
                                                <a class="btn btn-secondary" href=""><i class="fa fa-bar-chart">اضافة لسلة المشتريات</i></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-9 col-sm-12">
                                        <img src="@Url.Content("/images/Post/" + item.PostImg)" class="img-fluid imgPreview" />
                                    </div>
                                </div>
                                <div class="postPreview text-center">
                                    <div class="postTitle">
                                        @item.Title
                                    </div>
                                    <div class="postContent">
                                        @item.PostContent
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary">Save changes</button>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>*@
    <!-- Modal -->
    <!-- Clock-->
    <div class="time">
        <center>
            <strong id="timeClock" class="digital-clock">00:00:00</strong>
        </center>
    </div>
    <!-- Clock-->
    <!-- Footer -->
    <footer class="page-footer font-small blue pt-4">
        <div class="container-fluid text-center text-md-left">
            <div class="row">
                <div class="col-md-6 mt-md-0 mt-3">
                    <h5 class="text-uppercase">Footer Content</h5>
                    <p>Here you can use rows and columns to organize your footer content.</p>
                </div>
                <hr class="clearfix w-100 d-md-none pb-3">
                <div class="col-md-3 mb-md-0 mb-3">
                    <h5 class="text-uppercase">Links</h5>
                    <ul class="list-unstyled">
                        <li>
                            <a href="#!">Link 1</a>
                        </li>
                        <li>
                            <a href="#!">Link 2</a>
                        </li>
                        <li>
                            <a href="#!">Link 3</a>
                        </li>
                        <li>
                            <a href="#!">Link 4</a>
                        </li>
                    </ul>

                </div>
                <div class="col-md-3 mb-md-0 mb-3">
                    <h5 class="text-uppercase">Links</h5>
                    <ul class="list-unstyled">
                        <li>
                            <a href="#!">Link 1</a>
                        </li>
                        <li>
                            <a href="#!">Link 2</a>
                        </li>
                        <li>
                            <a href="#!">Link 3</a>
                        </li>
                        <li>
                            <a href="#!">Link 4</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright text-center py-3 bg-dark">
            © 2018 Copyright:
            <a href="https://mdbootstrap.com/education/bootstrap/"> MDBootstrap.com</a>
        </div>
    </footer>
    <!-- Footer -->

</div>


@section Scripts {
    <script>
        var myVar = setInterval(myTimer, 1000);
        function myTimer() {
            var d = new Date();
            var t = d.toLocaleTimeString();
            $("#timeClock").html(t);
        }
    </script>
}